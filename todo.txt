Immediate goals:
Items Expansion:
  Make Farms, Dolait groves and Wampoon deposits pull from this, and revert to an empty field if there are none left.
  Add an "age" method to possessions. Run this for each item each time the world turns. Dolait groves should increase the amount of Dolait uses by 10% (up to max) each turn. At the end of turn, any unharvested farm should lose all remaining uses and revert to an empty field.

Hunger Expansion:
  Turn "Eat" into an explicit (free) action that lets you target some food quality item you possess and removes the "hunger" condition. If characters haven't eaten enough, they will eat anything available randomly to stave off hunger.
  Add a "target_allowed" flag that works like target required, but with a default option specified, usually "Any Available" or "None"
  Have hunger actually require a certain amount of "nutrition" each turn, and food provides an amount based on the level of it's food quality. Eating reduces this value until it reaches zero and then removes the condition.

Traits
  Allow creation of traits

Content Expansion: Communication
  Allow players to add additional gestures/texts
  Allow players to actually target their gestures at things other than the other player. (Well, this will quickly get complex)
  Allow building of message chains composed of multiple gestures and texts.

Create "Cooking" knowledge based on pondering Fire, which grants the "cook" action (1ap). This sacrifices a Dolait to turn a basic food into a "Meal" which restores some happiness in addition to restoring the same amount of nutrition as the previous item. Meals execute to "spoil" at the end of turn and get destroyed.
Remove display of duplicates in the ponder screen (Harder than it looks, since right now ponder is processed against content_possessions...)
Async changes to character stats as the result of conditions and actions - track temporary values, and then commit them (only then comparing to things like max or min possible values) only at the end of the execution run.
Add requirements for thoughts. Example: You can only come up with the idea to craft toys if you ponder weariness AFTER you've researched the basics of crafting.
Actions should return a full "status" object, with messages to pass, success or failure, an id for what happened. This will allow for historical comparison (actions that only work if another action is used this turn), and the refunding of AP for an aborted action (trying to use an item that is stolen for example).
Change the queue to only spend at *end* of turn until down to zero, instead of at beginning.

PVE/Gamification
Introduce the "events" system. Events are things that can happen each day. Some events are good - perfect weather might result in a bountiful harvest, for example. Others are bad, like disease or if the group has attracted a pack of wild predators, and may required coordinated effort to overcome.

-Introduce the "predator pack".
Every cycle change, implement a chance for a "A group of predators has arrived" event to occur, otherwise "Nothing of note happens." When the event occurs, log it.
This event creates a "world condition", that can be viewed in the world status box, and persists indefinitely. The predators arriving event cannot occur while this condition is active.
This condition unlocks a new action "fight off predators".
While active, this condition randomly damages a player for 2 to 6 damage each round.
This condition also tracks and displays the packs current target, a random player. It has an 80% chance to deal it's damage to the targeted player instead of any other player. If the player is killed, a new target is immediately randomly selected.
The predator condition is given a duration attribute "predator health", that is reduced when players choose the fight off predators action and by a slight amount each turn, and by a large amount if they successfully kill a player.
When this attribute reaches zero or lower, the condition ends and the log receives a message that the predators have departed.

--REFACTOR BREAK--
Actions stuff:
 Improve the "impossible" results and item requirement checking logic, track the actual items that are missing for the building of more effective lack of requirement messages.
 Implement a general lack of requirements message instead of having each action define it's own, though the action should still probably contribute a unique component. This is so we can have a complex "list all items and other things missing and the amounts that were required" sort of thing without complex message logic in the action definition.
--/REFACTOR BREAK--

--CONTENT BREAK--
???Forage requires wildlands to forage in, target_allowed stuff would need to work first though
??Add explore result that results in a concussion and the loss of a knowledge - Should wait until things can be taught!
--CONTENT BREAK--

-Trade Expansion
  Add the requirement for both parties to "accept" an offer.
  Add the ability for players to edit an existing trade offer. This should reset acceptance status for both players.
  Make sure to add a check to prevent a player's accept from succeeding against an offer that has been updated since they last viewed it. Display a message saying the offer could not be accepted as it has changed.
  Add the ability to fill an offer automatically from items of the right type, or to choose [i]specifically[/i] which item is offered, and the ability to see it's details (condition, uses remaining, etc.). You can not fill in specific items for the other party, only for yourself.

--FAR FUTURE--
More robust system for handling crafting. Introduce item qualities, have quality degrade from use. Have items break if used at low quality. Have learning to craft actions result in a prototype, and require materials.
Allow creation of language variants. Players can create custom langauges (and know multiple languages) but only communicate via text to those who know the same language (making a kind of game out of getting one language to dominate for ease of communication vs. the effort of learning a new language). Obviously, this will require teaching/learning to be implemented first.
Allow hiding items, and a config to hide new items be default. Also allow making them publicly viewable. Perhaps require the player to build a shack first?
Allow creation of broadcasts
Pull the item list from the worlds instead of from a global item list, and vary the resulting items, esp. qualities. Change the current item stuff to be templates rather than final definitions, with multiple options for various bits to build the real item base.
Have lots of variant wildlands with their own forage results, and have deposits be an attribute on wildlands. Deposits will be hidden until something something something.
Add remembered tasks. Make sure the task is remembered as a % of task completed.
"Strife", the knowledge of attacking other players, becomes a starting knowledge. Strife is a type of proposal that is automatically and immediately executed. The basic knowledge grants the "attack' proposal at a cost of 3ap(+10 from physical injury). The attacker has two 50% chances of dealing 1 damage to the defender, and the defender has one 50% chance of dealing 1 damage to the attacker. Attacking or being attacked by someone gives you the idea "brawling", which increases your odds when both attacking and defending to 75%.
Add the "craft weapon" knowledge and "weapon" item, made from tomatunk.
Considering another player gives several ideas depending. If they have possessions, you gain the idea of "theft", which allows you to try and steal items. If they are hurt, you gain the idea of "caretaking", which allows you to improve another player's healing for a turn.
Add a settting to allow players to turn off auto-eating and force-starve themselves.
Investigation knowledge model. Each "knowledge" is made up of several "pieces of the puzzle". Investigation offers several random selections from the pieces of the puzzle list and grants them to the player. When the player has all the pieces of the puzzle, they gain the knowledge. Players can share their pieces of the puzzle with other players. Earlier, basic knowledges may only have one piece to their puzzles.
Add random events each turn.
Allow players to destroy items they own.
Allow players to share "ideas" in the trade/teaching screen for free. Knowledges with zero components are also free when traded.
Major rewrite of property management. Properties are no longer items - they exist from the beginning of the game, and there exists a type of knowledge coupled with them. Any players that possesses this knowledge can use this property for whatever they want. Players may obviously make claims to the property in various ways - signs, choosing to physically patrol the property to prevent people from using, traps and fences, guard animals (or hiring other players as guards) or even simply verbally in chat, but ultimately "possessing" a property comes down to your ability to prevent others from using it. However, this means that you can *allow* others to use it, for example to farm and harvest 'your' land, in exchange for a portion of their crops. Exploration may give you "discoveries", realling a random unknown property to you, but that property may have already been discovered by another player - and if they are using it sparingly, you may not even realize you're discovery means you are trespassing on someone elses land!
Add constructions - fences and houses. Both reduce chance of items getting stolen.
Every player starts with knowledge of a few starting properties - The Machine, and The Commons, which starts as a wilderness area.
Properties should have physical locations. Exploring involves exploring specific unexplored (or already explored) sections of a map, and if you're the first to explore that area there might be additional surprises there for you (diseases, artifacts, etc.). Players have a physical presence at locations, and travel times to move from one location to another. Trades and communication and other player interactions (and actions that depend on specific properties) are only possible at locations the player is at. Exploring costs the vigor to move from your location to the one to be explored, as well as a point of vigor to actually conduct the exploration.
Every location can have one or several properties. Dolait groves for gathering dolait, scrublands for hunting and foraging in, fields for planting in, and marshland or badlands for prospecting for tomatunk and blasted lands for prospecting for wampoon - although who knows how much of each might actually be in those places. Dolait groves and scrublands will increase over time, reclamining fields. Clearing the land will turn parts of it back to field. Farmlands thus have different sizes, depending on the location and conditions.


Characters have the following stats yet to be implemented:
Happiness (happy)
Max Happiness (max_happy)
Traits: [hard worker, nimble fingers, keen eyes, sharp mind, pretty face, organized multitasker, big heart]

BUGLIST AND SECURITY CONCERNS:
Everything right now is handled by get requests, we should probably switch post request to... post requests.
